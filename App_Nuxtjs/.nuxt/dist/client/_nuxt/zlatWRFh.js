import{V as ee,_ as ne}from"./CuTCfjHF.js";import{_ as C,t as h,v as D,S as Le,x as l,z as a,A as o,B as v,J as b,y as _,N as B,O as te,P as Me,Y as Ne,K as je,L as We,Z as le,$ as w,i as N,a0 as ae,a1 as ze,a2 as j,X as R,a3 as Oe,F as Ge,g as G,V as qe,W as Je,Q as Ke,R as Xe}from"./gszgXTxS.js";import{a as x,V as g,d as q}from"./Cvl1ETbA.js";import{a as J}from"./CCb-kr4I.js";import{g as H,a as Ye,V as Qe,b as Ze,c as et,d as tt,p as at,e as st}from"./CBkuNycD.js";import{s as z}from"./DN_E0W_O.js";import{c as ot,V,d as P,e as W}from"./BZISSxIt.js";import{V as E,a as re}from"./CaUlAWcl.js";import{V as O}from"./BTIj9U6y.js";import{m as it,a as nt,b as lt,c as rt,d as dt,e as ct,u as ut,f as mt,p as ht,g as pt,h as ft,i as gt,j as vt,k as yt,l as _t,V as se,n as oe,o as ie,q as kt,r as de}from"./D9v36est.js";import{m as bt,u as wt,h as Vt,V as U,c as It,d as T,e as Dt,f as xt,g as Ct}from"./BefkD40B.js";import{V as $}from"./D4eIK50J.js";import{P as St}from"./COHBgGhN.js";import{V as Tt}from"./Dt6yrLrZ.js";import"./7qluULSw.js";import"./DjbA1_97.js";import"./1DYzFgek.js";import"./xT3liDgT.js";import"./BWn29xGB.js";import"./D0qOzgP3.js";import"./B8TcFJPE.js";import"./CD5PZ4Wl.js";const Bt={},$t={class:"container"},Pt={class:"body-homepage container"};function Ft(e,t){return h(),D("div",$t,[t[1]||(t[1]=Le('<div class="background-body" data-v-22315650><div class="container" data-v-22315650><div class="row" data-v-22315650><div class="col-md-5 text-center" data-v-22315650></div><div class="col-md-7" data-v-22315650><div class="header-homepage" data-v-22315650><div class="font-p-home" data-v-22315650><div class="box-shadow" data-v-22315650><p class="font-head" data-v-22315650> ระบบเช็คชื่อสแกนหน้า <br data-v-22315650> ประจําวัน </p><hr width="50%" data-v-22315650><p class="font-body" data-v-22315650> ให้บริการเช็คชื่อสแกนหน้าประจําวัน <br data-v-22315650> ที่ใช้งานได้ทุกที่ ทุกเวลา </p></div></div></div></div></div></div></div>',1)),l("div",Pt,[a(g,{class:"blog-container"},{default:o(()=>[a(x,null,{default:o(()=>t[0]||(t[0]=[l("div",{class:"row text-center"},[l("div",{class:"col-md-3 blog-item"},[l("h5",null,[l("i",{class:"fab fa-node-js me-2"}),v("Node.js")]),l("p",{class:"blog-content"}," Node.js เป็นแพลตฟอร์มที่ใช้สำหรับพัฒนาเซิร์ฟเวอร์และแอปพลิเคชันเว็บ โดยใช้ JavaScript มีประสิทธิภาพสูงและรองรับการทำงานแบบ Asynchronous เหมาะสำหรับระบบที่ต้องการประมวลผลแบบเรียลไทม์ เช่น Chat Applications และ API Services ")]),l("div",{class:"col-md-3 blog-item"},[l("h5",null,[l("i",{class:"fab fa-vuejs me-2"}),v("Nuxt.js")]),l("p",{class:"blog-content"}," Nuxt.js เป็นเฟรมเวิร์คที่ช่วยในการพัฒนาเว็บแอปพลิเคชันแบบ Vue.js โดยมีจุดเด่นคือการรองรับ Server-Side Rendering (SSR), SEO-friendly และโครงสร้างที่จัดการง่าย เหมาะสำหรับเว็บที่ต้องการโหลดเร็วและรองรับ SEO เช่น เว็บไซต์ E-commerce หรือ Blog ")]),l("div",{class:"col-md-3 blog-item"},[l("h5",null,[l("i",{class:"fab fa-python me-2"}),v("Python")]),l("p",{class:"blog-content"}," Python เป็นภาษาการเขียนโปรแกรมที่เรียบง่าย อ่านง่าย และทรงพลัง เหมาะสำหรับงานหลากหลาย เช่น Data Science, Machine Learning, Web Development และ Automation มี Frameworks เช่น Django และ Flask ที่ช่วยในการพัฒนาเว็บแอปพลิเคชันได้รวดเร็ว ")]),l("div",{class:"col-md-3 blog-item"},[l("h5",null,[l("i",{class:"fas fa-user-check me-2"}),v("Face Detection")]),l("p",{class:"blog-content"}," การตรวจจับใบหน้า (Face Detection) เป็นเทคโนโลยีที่ใช้ในระบบ AI สำหรับการระบุและตรวจจับตำแหน่งใบหน้าของบุคคลในภาพหรือวิดีโอ ไลบรารีที่นิยมใช้ เช่น OpenCV, Mediapipe และ Dlib โดยสามารถนำไปใช้งานในระบบความปลอดภัย การตรวจจับอารมณ์ หรือแอปพลิเคชันกล้อง ")])],-1)])),_:1})]),_:1})])])}const Rt=C(Bt,[["render",Ft],["__scopeId","data-v-22315650"]]),Ut={props:{week_id:{type:String,required:!0},day_id:{type:String,required:!0}},data:()=>({error:null,success:null,faceBoxes:[],status:"กำลังโหลด...",stream:null,intervalId:null,user:{},teacher:{}}),methods:{async startVideo(){try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.$refs.video.srcObject=this.stream,this.intervalId=z(this.captureFrame,3e3),this.status="กำลังตรวจสอบ..."}catch(e){console.error("ไม่สามารถเข้าถึงกล้องได้:",e),this.status="ไม่สามารถเข้าถึงกล้องได้"}},stopVideo(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.status="กล้องถูกปิด"},async captureFrame(){const e=this.$refs.video,t=this.$refs.canvas,r=t.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,r.drawImage(e,0,0,t.width,t.height);const n=t.toDataURL("image/jpeg");try{const s=await J.post("http://localhost:8000/process-frame",{frame:n,user_id:this.user.id,username:this.user.username,teacher_id:this.teacher,week_id:this.week_id,day_id:this.day_id});console.log(s.data),s.data.status==="success"?(this.status=`ตรวจพบ: ${s.data.name}`,this.message=s.data.message,this.faceBoxes=[s.data.boundingBox],this.success="เช็คชื่อสำเร็จ"):s.data.status==="checkin_time_over"?(this.status=`ตรวจพบ: ${s.data.name}`,this.message=s.data.message,this.faceBoxes=[s.data.boundingBox],this.success="หมดเวลาเช็คชื่อแล้ว"):s.data.status==="already"?(this.status=`ตรวจพบ: ${s.data.name}`,this.message=s.data.message,this.faceBoxes=[s.data.boundingBox],console.log("faceBox",this.faceBoxes)):this.faceBoxes=[]}catch(s){console.error("Error sending frame to API:",s),this.status="เกิดข้อผิดพลาดในการเชื่อมต่อ API"}},boxStyle(e){const t=this.$refs.video,r=t.videoWidth,n=t.videoHeight,s=t.offsetWidth,c=t.offsetHeight,u=s/r,i=c/n;return{position:"absolute",border:"2px solid red",top:`${e.y*i}px`,left:`${e.x*u}px`,width:`${e.width*u}px`,height:`${e.height*i}px`,pointerEvents:"none"}}},async mounted(){const e=await H();e.ok===1?(this.user=e.user,this.is_logged_in=!0):(this.is_logged_in=!1,this.$router.push("/"),localStorage.setItem("lastComponentindex","HomeComponent"));const t=await Ye();t.ok===1&&(this.teacher=t.teacher[0].id),this.startVideo()},beforeUnmount(){this.stopVideo()}},Et={class:"video-container"},Ht={ref:"video",autoplay:"",muted:"",playsinline:""},At={ref:"canvas",style:{display:"none"}};function Lt(e,t,r,n,s,c){return h(),D(te,null,[a(x,null,{default:o(()=>t[0]||(t[0]=[v("ตรวจจับใบหน้า")])),_:1}),a(q,null,{default:o(()=>[e.error||e.success?(h(),b(Qe,{key:0,type:e.error?"error":"success",closable:""},{default:o(()=>[v(_(e.error||e.success),1)]),_:1},8,["type"])):B("",!0),l("div",Et,[l("video",Ht,null,512),l("canvas",At,null,512),(h(!0),D(te,null,Me(e.faceBoxes,(u,i)=>(h(),D("div",{key:i,class:"face-box",style:Ne(c.boxStyle(u))},null,4))),128))]),l("p",null,_(e.status),1)]),_:1}),v(" "+_(e.faceBoxes),1)],64)}const Mt=C(Ut,[["render",Lt],["__scopeId","data-v-18e1bc71"]]),Nt=je({...it(),...nt(),...bt(),...lt()},"VDataTableVirtual"),jt=We()({name:"VDataTableVirtual",props:Nt(),emits:{"update:modelValue":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,t){let{attrs:r,slots:n}=t;const{groupBy:s}=rt(e),{sortBy:c,multiSort:u,mustSort:i}=dt(e),{disableSort:d}=le(e),{columns:m,headers:p,filterFunctions:f,sortFunctions:A,sortRawFunctions:ce}=ct(e,{groupBy:s,showSelect:w(e,"showSelect"),showExpand:w(e,"showExpand")}),{items:ue}=ut(e,m),K=w(e,"search"),{filteredItems:me}=mt(e,ue,K,{transform:y=>y.columns,customKeyFilter:f}),{toggleSort:he}=ht({sortBy:c,multiSort:u,mustSort:i}),{sortByWithGroups:pe,opened:fe,extractRows:ge,isGroupOpen:ve,toggleGroup:ye}=pt({groupBy:s,sortBy:c,disableSort:d}),{sortedItems:_e}=ft(e,me,pe,{transform:y=>({...y.raw,...y.columns}),sortFunctions:A,sortRawFunctions:ce}),{flatItems:L}=gt(_e,s,fe),F=N(()=>ge(L.value)),{isSelected:ke,select:be,selectAll:we,toggleSelect:Ve,someSelected:Ie,allSelected:De}=vt(e,{allItems:F,currentPage:F}),{isExpanded:xe,toggleExpand:Ce}=yt(e),{containerRef:Se,markerRef:Te,paddingTop:Be,paddingBottom:$e,computedItems:Pe,handleItemResize:Fe,handleScroll:Re,handleScrollend:Ue}=wt(e,L),Ee=N(()=>Pe.value.map(y=>y.raw));_t({sortBy:c,page:ae(1),itemsPerPage:ae(-1),groupBy:s,search:K}),ze({VDataTableRows:{hideNoData:w(e,"hideNoData"),noDataText:w(e,"noDataText"),loading:w(e,"loading"),loadingText:w(e,"loadingText")}});const S=N(()=>({sortBy:c.value,toggleSort:he,someSelected:Ie.value,allSelected:De.value,isSelected:ke,select:be,selectAll:we,toggleSelect:Ve,isExpanded:xe,toggleExpand:Ce,isGroupOpen:ve,toggleGroup:ye,items:F.value.map(y=>y.raw),internalItems:F.value,groupedItems:L.value,columns:m.value,headers:p.value}));ot(()=>{const y=se.filterProps(e),He=oe.filterProps(e),Ae=ie.filterProps(e);return a(ie,R({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Ae),{top:()=>{var k;return(k=n.top)==null?void 0:k.call(n,S.value)},wrapper:()=>{var k,X,Y;return a("div",{ref:Se,onScrollPassive:Re,onScrollend:Ue,class:"v-table__wrapper",style:{height:j(e.height)}},[a("table",null,[(k=n.colgroup)==null?void 0:k.call(n,S.value),!e.hideDefaultHeader&&a("thead",{key:"thead"},[a(se,R(y,{sticky:e.fixedHeader}),n)]),!e.hideDefaultBody&&a("tbody",null,[a("tr",{ref:Te,style:{height:j(Be.value),border:0}},[a("td",{colspan:m.value.length,style:{height:0,border:0}},null)]),(X=n["body.prepend"])==null?void 0:X.call(n,S.value),a(oe,R(r,He,{items:Ee.value}),{...n,item:I=>a(Vt,{key:I.internalItem.index,renderless:!0,"onUpdate:height":M=>Fe(I.internalItem.index,M)},{default:M=>{var Z;let{itemRef:Q}=M;return((Z=n.item)==null?void 0:Z.call(n,{...I,itemRef:Q}))??a(kt,R(I.props,{ref:Q,key:I.internalItem.index,index:I.internalItem.index}),n)}})}),(Y=n["body.append"])==null?void 0:Y.call(n,S.value),a("tr",{style:{height:j($e.value),border:0}},[a("td",{colspan:m.value.length,style:{height:0,border:0}},null)])])])])},bottom:()=>{var k;return(k=n.bottom)==null?void 0:k.call(n,S.value)}})})}}),Wt={components:{FaceDetection:Mt},props:{week_id:{type:String,required:!0}},setup(e){const t=Oe({search:"",items:[],headers:[{title:"#",key:"id"},{title:"วัน",align:"end",key:"day"},{title:"รายละเอียด",align:"end",key:"view"}],dialog:{},teacher:"",student:{},studentCount:"",Checkin:!1}),r=d=>{t.dialog[d]=!0},n=d=>{t.dialog[d]=!1},s=d=>{const m={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};return new Date(d).toLocaleString("th-TH",m)},c=d=>{console.log("Submitted Data:",d)},u=async()=>{try{const d=await Ze(e.week_id),m=await H(),p=await et();d.ok===1&&Array.isArray(d.days)?t.items=d.days.map((f,A)=>({id:A+1,day_id:f.id,day:f.day,start:f.start,end:f.end,status:f.status})):console.error("Invalid data structure from API:",d),m.ok===1?t.teacher=m.user.id:console.error("Invalid data structure from API:",m),p.ok===1?(t.student=p.students,t.studentCount=p.students.length):console.error("Invalid data structure from API:",p)}catch(d){console.error("Error fetching weeks:",d)}},i=async(d,m)=>{try{const p=await tt(d,m);console.log("item",p),p.ok===1&&p.check_lines_by_id.length>0&&(t.items=t.items.map(f=>f.id===m&&e.week_id===d?{...f,status:"closed"}:f))}catch(p){console.error("Error checking line status:",p)}};return u(),Ge(()=>e.week_id,d=>{t.items.forEach(m=>{i(d,m.id)})}),{...le(t),openDialog:r,closeDialog:n,formatDate:s,handleSubmit:c}}},zt={class:"container"},Ot={class:"button-open"};function Gt(e,t,r,n,s,c){const u=G("FaceDetection");return h(),D("div",zt,[a(g,{flat:""},{default:o(()=>[a(x,{class:"d-flex align-center pe-2"},{default:o(()=>[a(V,{icon:"mdi-calendar-week"}),v(" สัปดาห์ที่ "+_(r.week_id)+" ",1),a(E),a(O,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=i=>e.search=i),density:"compact",label:"ค้นหา","prepend-inner-icon":"mdi-magnify",variant:"solo-filled",flat:"","hide-details":"","single-line":""},null,8,["modelValue"])]),_:1}),a(de,{search:e.search,"onUpdate:search":t[1]||(t[1]=i=>e.search=i),headers:e.headers,items:e.items},{"item.view":o(({item:i})=>[l("td",Ot,[a(P,{onClick:d=>n.openDialog(i.id),disabled:i.status==="closed"},{default:o(()=>[a(V,{size:"24px",color:"primary"},{default:o(()=>[v(_(i.status==="pending"?"mdi-pencil":"mdi-eye"),1)]),_:2},1024)]),_:2},1032,["onClick","disabled"]),a(re,{modelValue:e.dialog[i.id],"onUpdate:modelValue":d=>e.dialog[i.id]=d,"max-width":"800",persistent:""},{default:o(()=>[a(g,{"prepend-icon":"mdi-eye",title:"จัดการการเข้าแถว"},{actions:o(()=>[a(E),a(P,{onClick:d=>n.closeDialog(i.id),color:"red"},{default:o(()=>t[2]||(t[2]=[l("h5",null,"ปิด",-1)])),_:2},1032,["onClick"])]),default:o(()=>[a(q,null,{default:o(()=>[a(u,{week_id:r.week_id,day_id:i.id},null,8,["week_id","day_id"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:1},8,["search","headers","items"])]),_:1})])}const qt=C(Wt,[["render",Gt],["__scopeId","data-v-52b307f6"]]),Jt={components:{DayComponent:qt},data:()=>({itemsCheckin:[],headersCheckin:[{title:"#",align:"center",key:"id"},{title:"สัปดาห์",align:"end",key:"week"},{title:"รายละเอียด",align:"end",key:"view"}],dialog:{},teacher:"",error:null,success:null,count:"",tasks:[],newTask:null,search:"",headers:[{title:"#",align:"center",key:"id"},{title:"เวลา",align:"end",key:"time"},{title:"ผู้เช็คชื่อ",align:"end",key:"checker"}],columns:[],user:{},faceBoxes:[],status:"กำลังโหลด...",message:"",stream:null,is_logged_in:!1,router:qe(),route:Je(),intervalId:null,pollingId:null}),computed:{progress(){return this.count/90*100},remainingTasks(){return 90-this.count},completedTasks(){return this.count}},methods:{openDialog(e){this.dialog[e]=!0},closeDialog(e){this.dialog[e]=!1},formatDate(e){const t={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};return new Date(e).toLocaleString("th-TH",t)},async startVideo(){try{this.stream=await navigator.mediaDevices.getUserMedia({video:!0}),this.$refs.video.srcObject=this.stream,this.intervalId=z(this.captureFrame,3e3),this.status="กำลังตรวจสอบ..."}catch(e){console.error("ไม่สามารถเข้าถึงกล้องได้:",e),this.status="ไม่สามารถเข้าถึงกล้องได้"}},stopVideo(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null),this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null),this.status="กล้องถูกปิด"},async captureFrame(){const e=this.$refs.video,t=this.$refs.canvas,r=t.getContext("2d");t.width=e.videoWidth,t.height=e.videoHeight,r.drawImage(e,0,0,t.width,t.height);const n=t.toDataURL("image/jpeg");try{const s=await J.post("http://localhost:8000/process-frame",{frame:n,user_id:this.user.id,username:this.user.username});s.data.status==="success"?(this.status=`ตรวจพบ: ${s.data.name}`,this.message=s.data.message,this.faceBoxes=[s.data.boundingBox],this.success="เช็คชื่อสำเร็จ"):s.data.status==="checkin_time_over"?(this.status=`ตรวจพบ: ${s.data.name}`,this.message=s.data.message,this.faceBoxes=[s.data.boundingBox],this.success="หมดเวลาเช็คชื่อแล้ว"):s.data.status==="already"?(this.status=`ตรวจพบ: ${s.data.name}`,this.message=s.data.message,this.faceBoxes=[s.data.boundingBox]):this.faceBoxes=[]}catch(s){console.error("Error sending frame to API:",s),this.status="เกิดข้อผิดพลาดในการเชื่อมต่อ API"}},async fetchData(){const e=await at();e.ok===1&&(this.count=e.count,this.columns=e.columns.map((r,n)=>({...r,id:n+1})));const t=await st();t.ok===1&&Array.isArray(t.weeks)?(this.itemsCheckin=t.weeks.map(r=>({id:r.id,week:r.week,start:r.start,end:r.end,room:r.room,status:r.status})),console.log(this.itemsCheckin)):console.error("Invalid data structure from API:",t)},startPolling(){this.pollingId=z(this.fetchData,5e3)},stopPolling(){this.pollingId&&(clearInterval(this.pollingId),this.pollingId=null)}},watch:{dialog(e){e?this.startVideo():this.stopVideo()}},beforeUnmount(){this.stopVideo(),this.stopPolling()},async mounted(){await this.fetchData(),this.startPolling();const e=await H();e.ok===1?(this.user=e.user,this.is_logged_in=!0):(this.is_logged_in=!1,this.$router.push("/"),localStorage.setItem("lastComponentindex","HomeComponent"))}},Kt={class:"container"},Xt={class:"text-h6"},Yt={class:"text-h6"},Qt={class:"text-h6"},Zt={class:"d-flex justify-center"},ea={class:"hover-effect"};function ta(e,t,r,n,s,c){const u=G("DayComponent");return h(),D("div",Kt,[a(g,{flat:"",class:"ma-5 text-center"},{default:o(()=>[a(W,{modelValue:c.progress,"onUpdate:modelValue":t[0]||(t[0]=i=>c.progress=i),height:40,size:350,rotate:10,color:"#9292D1",striped:"",class:"me-2 text-h6"},{default:o(()=>[l("span",Xt,_(Math.round(c.progress))+"%",1)]),_:1},8,["modelValue"])]),_:1}),a(ee,null,{default:o(()=>[a(U,null,{default:o(()=>[a(g,{class:"ma-5"},{default:o(()=>[a($,{vertical:""},{default:o(()=>[a(g,{width:"300px",class:"animated-card"},{default:o(()=>[a(x,{class:"d-flex align-center"},{default:o(()=>[a(V,{icon:"mdi-clock-outline",color:"warning",class:"mr-2"}),l("span",Yt,": "+_(c.remainingTasks),1)]),_:1}),a(W,{value:c.remainingTasks/90*100,height:"10",color:"warning",class:"mt-2"},null,8,["value"])]),_:1}),a($),a(g,{width:"300px",class:"mt-5 animated-card"},{default:o(()=>[a(x,{class:"d-flex align-center"},{default:o(()=>[a(V,{icon:"mdi-check-circle-outline",color:"success",class:"mr-2"}),l("span",Qt,": "+_(c.completedTasks),1)]),_:1}),a(W,{value:c.completedTasks/90*100,height:"10",color:"success",class:"mt-2"},null,8,["value"])]),_:1})]),_:1}),a($),l("div",Zt,[a(g,null,{default:o(()=>[a(x,{class:"d-flex align-center pe-2 title-bar"},{default:o(()=>[a(V,{icon:"mdi-calendar-week",color:"primary"}),t[4]||(t[4]=l("span",{class:"ml-2 text-h6"},"เช็คชื่อเข้าแถว",-1)),a(E),a(O,{modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=i=>e.search=i),density:"compact",label:"ค้นหา","prepend-inner-icon":"mdi-magnify",variant:"solo-filled","hide-details":"",class:"search-field"},null,8,["modelValue"])]),_:1}),a(de,{search:e.search,"onUpdate:search":t[2]||(t[2]=i=>e.search=i),headers:e.headersCheckin,"filter-keys":["id","week"],items:e.itemsCheckin},{"item.view":o(({item:i})=>[l("td",ea,[a(P,{onClick:d=>c.openDialog(i.id)},{default:o(()=>[a(V,{size:"24px",color:"primary"},{default:o(()=>[v(_(i.status==="pending"?"mdi-pencil":" mdi-eye"),1)]),_:2},1024)]),_:2},1032,["onClick"]),a(re,{modelValue:e.dialog[i.id],"onUpdate:modelValue":d=>e.dialog[i.id]=d,"max-width":"800",persistent:""},{default:o(()=>[a(g,{"prepend-icon":"mdi-eye",title:"จัดการการเข้าแถว"},{actions:o(()=>[a(E),a(P,{onClick:d=>c.closeDialog(i.id),color:"red"},{default:o(()=>t[5]||(t[5]=[l("h5",null,"ปิด",-1)])),_:2},1032,["onClick"])]),default:o(()=>[a(q,null,{default:o(()=>[a(u,{week_id:i.id},null,8,["week_id"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),_:1},8,["search","headers","items"])]),_:1})])]),_:1})]),_:1}),a(U,null,{default:o(()=>[a(g,{class:"ma-5"},{text:o(()=>[a(ee,null,{default:o(()=>[a(U,{class:"text-h6"},{default:o(()=>[a(V,{icon:"mdi-video-input-component"}),t[6]||(t[6]=v(" รายละเอียดการเช็คชื่อ "))]),_:1}),a(U,null,{default:o(()=>[a(O,{modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=i=>e.search=i),label:"Search","prepend-inner-icon":"mdi-magnify",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),default:o(()=>[a(jt,{headers:e.headers,items:e.columns,height:"450","item-value":"name",search:e.search},null,8,["headers","items","search"])]),_:1})]),_:1})]),_:1})])}const aa=C(Jt,[["render",ta],["__scopeId","data-v-caf964ac"]]),sa={components:{HeaderComponent:ne,HomeComponent:Rt,RealTimeFaceDetection:aa,ProfileComponent:St},data(){return{drawer:!0,rail:!0,dynamicComponent:"HomeComponent",username:"",isMobile:!1,is_logged_in:!1}},methods:{changeComponent(e){this.dynamicComponent=e,localStorage.setItem("lastComponentindex",e)},fetchUsersData(){const e=localStorage.getItem("token");e&&J.get("http://localhost:7000/user/get-user",{headers:{authorization:`Bearer ${e}`}}).then(t=>{const r=t.data;r.ok===1?(this.profileImages=`http://localhost:7000/uploads/profiles/${r.user.profile}`,this.username=r.user.username):console.error("Error fetching user data:",r.error)}).catch(t=>{console.error("Error fetching user data:",t)})},updateIsMobile(){this.isMobile=window.innerWidth<=0}},async mounted(){const e=await H();e.is_logged_in==!0?(this.user=e.user,this.is_logged_in=!0):this.is_logged_in=!1,this.fetchUsersData(),this.updateIsMobile();const t=localStorage.getItem("lastComponentindex");t&&(this.dynamicComponent=t),window.addEventListener("resize",this.updateIsMobile)},beforeDestroy(){window.removeEventListener("resize",this.updateIsMobile)}};function oa(e,t,r,n,s,c){const u=ne;return h(),b(g,null,{default:o(()=>[a(Ct,null,{default:o(()=>[a(It,{modelValue:s.drawer,"onUpdate:modelValue":t[4]||(t[4]=i=>s.drawer=i),rail:s.rail&&!s.isMobile,permanent:"",onClick:t[5]||(t[5]=i=>s.rail=!1),class:"navigation-drawer",width:200},{default:o(()=>[a(T,{class:"profile-container"},{default:o(()=>[!s.rail||s.isMobile?(h(),b(T,{key:0,title:"Face Detection",class:"profile-name"})):B("",!0),!s.rail||s.isMobile?(h(),b(Dt,{key:1},{default:o(()=>[a(P,{class:"toggle-rail-btn",icon:"mdi-chevron-left",variant:"text",onClick:t[0]||(t[0]=Ke(i=>s.rail=!s.rail,["stop"]))})]),_:1})):B("",!0)]),_:1}),a($),a(xt,{density:"compact",nav:""},{default:o(()=>[a(T,{"prepend-icon":"mdi-home-city",title:"Home",value:"home",onClick:t[1]||(t[1]=i=>c.changeComponent("HomeComponent")),class:"custom-title-body"}),s.is_logged_in==!0?(h(),b(T,{key:0,"prepend-icon":"mdi-account",title:"FaceDetection",value:"facedetection",onClick:t[2]||(t[2]=i=>c.changeComponent("RealTimeFaceDetection")),class:"custom-title-body"})):B("",!0),a($),s.is_logged_in==!0?(h(),b(T,{key:1,"prepend-icon":"mdi-cog",title:"Profile",value:"profile",onClick:t[3]||(t[3]=i=>c.changeComponent("ProfileComponent")),class:"custom-title-body"})):B("",!0)]),_:1})]),_:1},8,["modelValue","rail"]),a(Tt,null,{default:o(()=>[a(u),(h(),b(Xe(s.dynamicComponent)))]),_:1})]),_:1})]),_:1})}const ia=C(sa,[["render",oa],["__scopeId","data-v-0748be4a"]]),na={components:{NDIndex:ia}};function la(e,t,r,n,s,c){const u=G("NDIndex");return h(),b(u)}const Ba=C(na,[["render",la]]);export{Ba as default};
