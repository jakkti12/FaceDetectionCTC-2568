import{a as C}from"./CCb-kr4I.js";import{_ as S,J as i,A as o,t as m,z as l,N as f,B as n,x as s,y as u}from"./gszgXTxS.js";import{V as y}from"./BYcB2WDS.js";import{d as c,b as V,e as b,V as w}from"./Cvl1ETbA.js";import{V as I}from"./CQy_gM36.js";import{d}from"./BZISSxIt.js";import"./xT3liDgT.js";import"./B8TcFJPE.js";import"./1DYzFgek.js";import"./D4eIK50J.js";import"./BWn29xGB.js";import"./D0qOzgP3.js";const v={data(){return{step:1,image:null,imagePreview:null,teacher:2,student:4,id:2,room:1}},methods:{handleImageUpload(r){if(r){const e=new FileReader;e.onload=p=>{this.imagePreview=p.target.result},e.readAsDataURL(r)}else this.imagePreview=null},async submitData(){try{const r=new FormData;r.append("image",this.image),r.append("teacher_id",this.teacher),r.append("student_ids",JSON.stringify([this.student])),r.append("room_id",this.room);const e=await C.post("http://localhost:8000/teacher-process-frame",r,{headers:{"Content-Type":"multipart/form-data"}});e.status==="success"?(alert("Data submitted successfully!"),console.log("Recognized Students:",e.recognized_students),console.log("Absent Students:",e.absent_students)):alert("Error submitting data: "+e.message)}catch(r){console.error("Error:",r),alert("An error occurred while submitting data."),console.log(this.image)}}}};function x(r,e,p,k,t,g){return m(),i(y,{"alt-labels":"",editable:"",items:["Step 1","Step 2"],modelValue:t.step,"onUpdate:modelValue":e[3]||(e[3]=a=>t.step=a)},{"item.1":o(()=>[l(w,{title:"Step One: Upload Image",flat:""},{default:o(()=>[l(c,null,{default:o(()=>[l(I,{modelValue:t.image,"onUpdate:modelValue":e[0]||(e[0]=a=>t.image=a),label:"Upload Student Image",accept:"image/*",onChange:g.handleImageUpload,rules:[a=>!!a||"Image is required"],required:""},null,8,["modelValue","onChange","rules"]),t.imagePreview?(m(),i(V,{key:0,src:t.imagePreview,"max-height":"300",contain:""},null,8,["src"])):f("",!0)]),_:1}),l(b,null,{default:o(()=>[l(d,{color:"primary",onClick:e[1]||(e[1]=a=>t.step=2),disabled:!t.image},{default:o(()=>e[4]||(e[4]=[n("Next")])),_:1},8,["disabled"])]),_:1})]),_:1})]),"item.2":o(()=>[l(w,{title:"Step Two: Confirm and Submit",flat:""},{default:o(()=>[l(c,null,{default:o(()=>[s("p",null,[e[5]||(e[5]=s("strong",null,"Teacher ID:",-1)),n(" "+u(t.teacher),1)]),s("p",null,[e[6]||(e[6]=s("strong",null,"Student ID:",-1)),n(" "+u(t.student),1)]),s("p",null,[e[7]||(e[7]=s("strong",null,"Room ID:",-1)),n(" "+u(t.room),1)]),e[8]||(e[8]=s("p",null,[s("strong",null,"Image Preview:")],-1)),t.imagePreview?(m(),i(V,{key:0,src:t.imagePreview,"max-height":"300",contain:""},null,8,["src"])):f("",!0)]),_:1}),l(b,null,{default:o(()=>[l(d,{color:"secondary",onClick:e[2]||(e[2]=a=>t.step=1)},{default:o(()=>e[9]||(e[9]=[n("Back")])),_:1}),l(d,{color:"primary",onClick:g.submitData},{default:o(()=>e[10]||(e[10]=[n("Submit")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}const q=S(v,[["render",x],["__scopeId","data-v-652d671c"]]);export{q as default};
